# Incident: 2025-12-03 14-11-42

## Summary

```md
Between the hour of 14:00 and 14:15 on 2025-12-03, one user encountered pizza creation failure. The event was triggered by a post request to order a pizza at 14:11. The request contained pizza menu items formatted as json to query the pizza the user desired to order.

A bug in this request caused the pizza factory to fulfill the order. The event was detected by the logs in grafana. The team started working on the event by visiting the support url provided in the response to resolve the issue. This error incident affected 100% of active users at the time.

There was further impact as noted by Teaching Assistants, where complaints were raised in relation to this incident.
```

## Detection

```md
This incident was detected when the the logging on grafana were being monitored manually. Since the alerts for such incident only triggered past a greater threshold than the one seen, no DevOps engineers were paged.

Therefore, Samuel Soto from the DevOps team caught the issue being actively monitoring the logs , because alerts were not triggered at any point.

Stricter and more robust alerts will be set up by Samuel Soto so that no manual monitoring may be needed to catch such errors.
```

## Impact

```md
For 1 minute between 14:11 UTC and 14:12 UTC on 12/03/2025, pizza creation at the factory failed.

This incident affected 1 customer, so about 50% of daily users that day experienced pizza ordering failure.

No further tickets or social media posts were submitted besides an inicial contact directly from a teaching assistant.
```

## Timeline

```md
All times are UTC.

- _12:22_ - logs were tested and alerts set in place
- _14:11_ - pizza factory failed to fulfill pizza order request
- _14:11_ - alerts did not trigger but logs showed the error
- _14:12_ - logs were reviewed
- _14:12_ - issue was resolved by going to the support url
```

## Response

```md
After catching the error on the logs, Samuel Soto, being already online at 14:11:00 UTC in grafana logging, saw the error.

This engineer did not have a background in the pizza factory creation so he resolved the issue by going to the support url since he was the only OnCall Engineer in the team.
```

## Root cause

```md
A bug in the pizza factory service led to a failed pizza creation response. The bug in the pizza factory service has been fixed.
```

## Resolution

```md
By going to 'https://pizza-factory.cs329.click/api/support/bf0dd326146642d0914871421227fc04/report/97dwupu5' the issue at the factory was resolved and deemed over. This solution was evident by the instructions provided in the response body of the failed order request.

Changed alerts to make them stricter and more readily triggered.
```

## Prevention

```md
This same root cause did not result in any more incidents.
```

## Action items

```md
1. Threshold adjustments set up in each alert rule in place
1. Test logging and alerts
1. Monitoring logs daily
```
